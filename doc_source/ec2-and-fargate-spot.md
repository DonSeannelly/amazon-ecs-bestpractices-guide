# Using Amazon EC2 Spot and FARGATE\_SPOT<a name="ec2-and-fargate-spot"></a>

Spot capacity can provide significant cost savings over on\-demand instances\. Spot capacity is excess capacity that is priced significantly lower than on\-demand or reserved capacity\. Spot capacity is a good fit for workloads such as batch processes, machine\-learning processes, development and staging environments, or other workloads that can tolerate temporary downtime\. 

You should be aware of the following consequences because Spot capacity is not guaranteed\.: 
+ First, during periods of extremely high demand, Spot capacity might be unavailable\. This can cause Fargate Spot task and Amazon EC2 Spot instance launches to be delayed\. ECS services will retry launching tasks, and Amazon EC2 Auto Scaling groups will retry launching instances, until capacity becomes available\. Fargate and Amazon EC2 do not replace Spot capacity with on\-demand capacity\. 
+ Second, when overall demand for capacity increases, Spot instances and tasks might be terminated with a 2\-minute warning\. After the warning has been sent, tasks should begin an orderly shutdown if necessary before the instance is fully terminated\. This will help minimize errors\. For more information about a graceful shutdown, see [Graceful shutdowns with ECS](https://aws.amazon.com/blogs/containers/graceful-shutdowns-with-ecs/) \.

To help minimize Spot capacity shortages, consider the following recommendations: 
+ **Use multiple Regions and Availability Zones\.** Spot capacity varies by region and Zone\. You can improve Spot availability by being flexible about where you run your workloads\. If possible, specify subnets in all the available Zones in the Regions you use for running your tasks and instances\. 
+ **Take advantage of multiple Amazon EC2 instance types\.** When you use Mixed Instance Policies with Amazon EC2 Auto Scaling, multiple instance types can be launched into your Auto Scaling Group\. This helps to ensure that a request for Spot capacity can be fulfilled when needed\. To maximize reliability and minimize complexity, we recommend that you use instance types that have roughly the same amount of CPU and memory in your Mixed Instances Policy\. These instances can be from different generation, or they can be variants of the same base instance type but with additional features you might not require\. An example of such a list could include m4\.large, m5\.large, m5a\.large, m5d\.large, m5n\.large, m5dn\.large, and m5ad\.large\. For more information, see [Auto Scaling groups with multiple instance types and purchase options](https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-purchase-options.html) in the *Amazon EC2 Auto Scaling User Guide*\.
+ **Use the capacity\-optimized Spot allocation strategy\.** With Amazon EC2 Spot, you can choose between capacity\- and cost\-optimized allocation strategies\. If you choose the capacity\-optimized strategy, when launching a new instance, Amazon EC2 Spot will select the instance type with the greatest availability in the selected Zone\. This can help reduce the chancel that the instance will be terminated soon after it launches\. 